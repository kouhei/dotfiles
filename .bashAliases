echo "bashAliases"
alias e='exit'

# 2つ上、3つ上にも移動できるようにする
alias ...='cd ../..'
alias ....='cd ../../..'

alias ll='ls -alF'
alias la='ls -a'
alias cp='cp -i'
alias mv='mv -i'
alias rm='rm -i'
if which docker-compose &>/dev/null; then
    alias dc='docker-compose'
  fi
if type python >/dev/null 2>&1; then
    alias py='python'
fi
if type ipython >/dev/null 2>&1; then
  alias ipy="ipython"
fi
if type bpython >/dev/null 2>&1; then
    alias bpy='bpython'
fi
if type jupyter >/dev/null 2>&1; then
    alias j='jupyter'
    alias nb='j notebook'
fi
if type git >/dev/null 2>&1; then
  alias g='git'
  alias gs='git status'
  alias gd='git diff'
  alias ga='git add'
fi


function notify-github-actions-ci-finish() {
  gh run watch -i10 && osascript -e 'display notification "run is done!" with title "Terminal"'
}
alias nci=notify-github-actions-ci-finish

# https://weblog.bulknews.net/ghq-peco-percol-b6be7828dc1b
function peco-src () {
    local selected_dir=$(ghq list --full-path | peco --query "$LBUFFER")
    if [ -n "$selected_dir" ]; then
        BUFFER="cd ${selected_dir}"
        zle accept-line
    fi
    zle clear-screen
}
zle -N peco-src
bindkey '^]' peco-src

### 過去に移動したことのあるディレクトリを選択。ctrl-uにバインド
function peco-cdr() {
  local destination="$(peco-get-destination-from-cdr)"
  if [ -n "$destination" ]; then
    BUFFER="cd $destination"
    zle accept-line
  else
    zle reset-prompt
  fi
}
zle -N peco-cdr
bindkey '^u' peco-cdr

# ブランチを簡単切り替え。gcoで実行できる
alias -g gco='git checkout $(git branch -a | peco --prompt "GIT BRANCH>" | head -n 1 | sed -e "s/^\*\s*//g")'

UNAME="$(uname)"
if [ $UNAME = 'Darwin' ];then
  alias ls='ls -G'
  alias f="open -a Finder ./"
  alias b="brew"
  #alias f='open .'
  alias brewu='brew update && brew upgrade'
  alias bu='brewu'
  alias bu='brewu && brew cleanup'
  alias rm='trash'
  alias jnote='jupyter notebook'
fi
